/*
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Project repository: https://github.com/malsup/form
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(':input[form="'+z+'"]').get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
/* Cookie Plugin 
* @author Klaus Hartl/klaus.hartl@stilbuero.de
*/
jQuery.cookie=function(d,e,b){if(arguments.length>1&&(e===null||typeof e!=="object")){b=jQuery.extend({},b);if(e===null){b.expires=-1}if(typeof b.expires==="number"){var g=b.expires,c=b.expires=new Date();c.setDate(c.getDate()+g)}return(document.cookie=[encodeURIComponent(d),"=",b.raw?String(e):encodeURIComponent(String(e)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=e||{};var a,f=b.raw?function(h){return h}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(d)+"=([^;]*)").exec(document.cookie))?f(a[1]):null}; 
/*
* JQuery URL Parser plugin
* Developed and maintanined by Mark Perkins, mark@allmarkedup.com
* Source repository: https://github.com/allmarkedup/jQuery-URL-Parser
* Licensed under an MIT-style license. See https://github.com/allmarkedup/jQuery-URL-Parser/blob/master/LICENSE for details.
*/ 
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(h,f){var i={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},j=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],e={anchor:"fragment"},a={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,b=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;function g(k,n){var p=decodeURI(unescape(k)),m=a[n||false?"strict":"loose"].exec(p),o={attr:{},param:{},seg:{}},l=14;while(l--){o.attr[j[l]]=m[l]||""}o.param.query={};o.param.fragment={};o.attr.query.replace(c,function(r,q,s){if(q){o.param.query[q]=s}});o.attr.fragment.replace(b,function(r,q,s){if(q){o.param.fragment[q]=s}});o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/");o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"";return o}function d(l){var k=l.tagName;if(k!==f){return i[k.toLowerCase()]}return k}h.fn.url=function(l){var k="";if(this.length){k=h(this).attr(d(this[0]))||""}return h.url(k,l)};h.url=function(k,l){if(arguments.length===1&&k===true){l=true;k=f}l=l||false;k=k||window.location.toString();return{data:g(k,l),attr:function(m){m=e[m]||m;return m!==f?this.data.attr[m]:this.data.attr},param:function(m){return m!==f?this.data.param.query[m]:this.data.param.query},fparam:function(m){return m!==f?this.data.param.fragment[m]:this.data.param.fragment},segment:function(m){if(m===f){return this.data.seg.path}else{m=m<0?this.data.seg.path.length+m:m-1;return this.data.seg.path[m]}},fsegment:function(m){if(m===f){return this.data.seg.fragment}else{m=m<0?this.data.seg.fragment.length+m:m-1;return this.data.seg.fragment[m]}}}}});
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/ 
 *
*/
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}})
/*
 * Dialog
 */
function Messi(data,options){var _this=this;_this.options=jQuery.extend({},Messi.prototype.options,options||{});_this.messi=jQuery(_this.template);_this.setContent(data);if(_this.options.title==null){jQuery(".messi-titlebox",_this.messi).remove()}else{jQuery(".messi-title",_this.messi).append(_this.options.title);if(_this.options.buttons.length===0||!_this.options.autoclose){if(_this.options.closeButton){var close=jQuery('<a class="messi-closebtn"><i class="wojo icon remove sign"></i></a>');close.on("click",function(){_this.hide()});jQuery(".messi-titlebox",this.messi).prepend(close)}}if(_this.options.titleClass!=null){jQuery(".messi-titlebox",this.messi).addClass(_this.options.titleClass)}}if(_this.options.width!=null){jQuery(".messi-box",_this.messi).css("width",_this.options.width)}if(_this.options.buttons.length>0){for(var i=0;i<_this.options.buttons.length;i++){var cls=(_this.options.buttons[i]["class"])?_this.options.buttons[i]["class"]:"";var btn=jQuery('<div class="btnbox"><a class="wojo button mod-button '+cls+'"> '+_this.options.buttons[i].label+"</a></div>").data("value",_this.options.buttons[i].val);btn.on("click",function(){var value=jQuery.data(this,"value");var after=(_this.options.callback!=null)?function(){_this.options.callback(value)}:null;_this.hide(after)});jQuery(".messi-actions",this.messi).append(btn)}}else{jQuery(".messi-footbox",this.messi).remove()}_this.modal=(_this.options.modal)?jQuery('<div class="messi-modal"></div>').css({opacity:_this.options.modalOpacity,width:jQuery(document).width(),height:jQuery(document).height(),"z-index":_this.options.zIndex+jQuery(".messi").length}).appendTo(document.body):null;if(_this.options.show){_this.show()}jQuery(window).on("resize",function(){_this.resize()});if(_this.options.autoclose!=null){setTimeout(function(_this){_this.hide()},_this.options.autoclose,this)}return _this}Messi.prototype={options:{autoclose:null,buttons:[],callback:null,center:true,closeButton:true,height:"auto",title:null,titleClass:null,modal:false,modalOpacity:0.8,show:true,unload:true,viewport:{top:"0px",left:"0px"},width:"",zIndex:7777},template:'<div class="messi"><div class="messi-box"><div class="messi-wrapper"><div class="messi-titlebox"><span class="messi-title"></span></div><div class="messi-content"></div><div class="messi-footbox clearfix"><div class="messi-actions clearfix"></div></div></div></div></div>',content:"<div></div>",visible:false,setContent:function(data){jQuery(".messi-content",this.messi).css({height:this.options.height}).empty().append(data)},viewport:function(){return{top:((jQuery(window).height()-this.messi.height())/2)+jQuery(window).scrollTop()+"px",left:((jQuery(window).width()-this.messi.width())/2)+jQuery(window).scrollLeft()+"px"}},show:function(){if(this.visible){return}if(this.options.modal&&this.modal!=null){this.modal.show()}this.messi.appendTo(document.body);if(this.options.center){this.options.viewport=this.viewport(jQuery(".messi-box",this.messi))}this.messi.css({top:this.options.viewport.top,left:this.options.viewport.left,"z-index":this.options.zIndex+jQuery(".messi").length}).show().animate({opacity:1},300);this.visible=true},hide:function(after){if(!this.visible){return}var _this=this;if(after){after.call()}this.messi.animate({opacity:0},600,function(){if(_this.options.modal&&_this.modal!=null){_this.modal.remove()}_this.messi.css({display:"none"}).remove();_this.visible=false;if(_this.options.unload){_this.unload()}});return this},resize:function(){if(this.options.modal){jQuery(".messi-modal").css({width:jQuery(document).width(),height:jQuery(document).height()})}if(this.options.center){this.options.viewport=this.viewport(jQuery(".messi-box",this.messi));this.messi.css({top:this.options.viewport.top,left:this.options.viewport.left})}},toggle:function(){this[this.visible?"hide":"show"]();return this},unload:function(){if(this.visible){this.hide()}jQuery(window).off("resize",function(){this.resize()});this.messi.remove()}};jQuery.extend(Messi,{alert:function(data,callback,options){var buttons=[{id:"ok",label:"OK",val:"OK"}];options=jQuery.extend({closeButton:false,buttons:buttons,callback:function(){}},options||{},{show:true,unload:true,callback:callback});return new Messi(data,options)},ask:function(data,callback,options){var buttons=[{id:"yes",label:"Yes",val:"Y","class":"btn-success"},{id:"no",label:"No",val:"N","class":"btn-danger"}];options=jQuery.extend({closeButton:false,modal:true,buttons:buttons,callback:function(){}},options||{},{show:true,unload:true,callback:callback});return new Messi(data,options)},img:function(src,options){var img=new Image();jQuery(img).load(function(){var vp={width:jQuery(window).width()-50,height:jQuery(window).height()-50};var ratio=(this.width>vp.width||this.height>vp.height)?Math.min(vp.width/this.width,vp.height/this.height):1;jQuery(img).css({width:this.width*ratio,height:this.height*ratio});options=jQuery.extend(options||{},{show:true,unload:true,closeButton:true,width:this.width*ratio,height:this.height*ratio,padding:0});new Messi(img,options)}).error(function(){console.log("Error loading "+src)}).attr("src",src)},load:function(url,params,options,callback){var buttons=[];options=jQuery.extend({closeButton:true,modal:true,buttons:buttons,title:""},options||{},{show:true,unload:true,callback:callback});var request={type:"post",url:url,data:params,cache:false,error:function(request,status,error){console.log(request.responseText)},success:function(html){new Messi(html,options)}};jQuery.ajax(request)}});
/* 
http://jquery.github.io/Stupid-Table-Plugin/ 
*/
(function($){$.fn.tablesort=function(sortFns){return this.each(function(){var $table=$(this);sortFns=sortFns||{};sortFns=$.extend({},$.fn.tablesort.default_sort_fns,sortFns);$table.on("click.tablesort","th",function(){var $this=$(this);var th_index=0;var dir=$.fn.tablesort.dir;$table.find("th").slice(0,$this.index()).each(function(){var cols=$(this).attr("colspan")||1;th_index+=parseInt(cols,10);});var sort_dir=$this.data("sort-default")||dir.ASC;if($this.data("sort-dir"))
sort_dir=$this.data("sort-dir")===dir.ASC?dir.DESC:dir.ASC;var type=$this.data("sort")||null;if(type===null){return;}
$table.trigger("beforetablesort",{column:th_index,direction:sort_dir});$table.css("display");setTimeout(function(){var column=[];var sortMethod=sortFns[type];var trs=$table.children("tbody").children("tr");trs.each(function(index,tr){var $e=$(tr).children().eq(th_index);var sort_val=$e.data("sort-value");var order_by=typeof(sort_val)!=="undefined"?sort_val:$e.text();column.push([order_by,tr]);});column.sort(function(a,b){return sortMethod(a[0],b[0]);});if(sort_dir!=dir.ASC)
column.reverse();trs=$.map(column,function(kv){return kv[1];});$table.children("tbody").append(trs);$table.find("th").data("sort-dir",null).removeClass("desc asc");$this.data("sort-dir",sort_dir).addClass(sort_dir);$table.trigger("aftertablesort",{column:th_index,direction:sort_dir});$table.css("display");},10);});});};$.fn.tablesort.dir={ASC:"asc",DESC:"desc"};$.fn.tablesort.default_sort_fns={"int":function(a,b){return parseInt(a,10)-parseInt(b,10);},"float":function(a,b){return parseFloat(a)-parseFloat(b);},"string":function(a,b){if(a<b)return-1;if(a>b)return+1;return 0;},"string-ins":function(a,b){a=a.toLowerCase();b=b.toLowerCase();if(a<b)return-1;if(a>b)return+1;return 0;}};})(jQuery);
/*
 * Project URL : http://www.malot.fr/bootstrap-datetimepicker
 */
!function($){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date();return UTCDate(today.getUTCFullYear(),today.getUTCMonth(),today.getUTCDate(),today.getUTCHours(),today.getUTCMinutes(),today.getUTCSeconds(),0)}var Datetimepicker=function(element,options){var that=this;this.element=$(element);this.container=options.container||"body";this.language=options.language||this.element.data("date-language")||"en";this.language=this.language in dates?this.language:"en";this.isRTL=dates[this.language].rtl||false;this.formatType=options.formatType||this.element.data("format-type")||"standard";this.format=DPGlobal.parseFormat(options.format||this.element.data("date-format")||dates[this.language].format||DPGlobal.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.fontAwesome=options.fontAwesome||this.element.data("font-awesome")||false;this.linkField=options.linkField||this.element.data("link-field")||false;this.linkFormat=DPGlobal.parseFormat(options.linkFormat||this.element.data("link-format")||DPGlobal.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=options.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=options.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=options.showMeridian||this.element.data("show-meridian")||false;this.initialDate=options.initialDate||new Date();this.altfield=$("<input>").attr({type:"hidden",value: this.element.data('date'),name:this.element.prop("name")+"_submit"}).appendTo(this.element);this.icons={leftArrow:"icon arrow left",rightArrow:"icon arrow right"};this.icontype="icon";this._attachEvents();this.formatViewType="datetime";if("formatViewType" in options){this.formatViewType=options.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in options){this.minView=options.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=DPGlobal.convertViewMode(this.minView);this.maxView=DPGlobal.modes.length-1;if("maxView" in options){this.maxView=options.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=DPGlobal.convertViewMode(this.maxView);this.wheelViewModeNavigation=false;if("wheelViewModeNavigation" in options){this.wheelViewModeNavigation=options.wheelViewModeNavigation}else{if("wheelViewModeNavigation" in this.element.data()){this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")}}this.wheelViewModeNavigationInverseDirection=false;if("wheelViewModeNavigationInverseDirection" in options){this.wheelViewModeNavigationInverseDirection=options.wheelViewModeNavigationInverseDirection}else{if("wheelViewModeNavigationInverseDirection" in this.element.data()){this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")}}this.wheelViewModeNavigationDelay=100;if("wheelViewModeNavigationDelay" in options){this.wheelViewModeNavigationDelay=options.wheelViewModeNavigationDelay}else{if("wheelViewModeNavigationDelay" in this.element.data()){this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")}}this.startViewMode=2;if("startView" in options){this.startViewMode=options.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=DPGlobal.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in options){this.viewSelect=options.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=DPGlobal.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in options){this.forceParse=options.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}var template=DPGlobal.template;while(template.indexOf("{iconType}")!==-1){template=template.replace("{iconType}",this.icontype)}while(template.indexOf("{leftArrow}")!==-1){template=template.replace("{leftArrow}",this.icons.leftArrow)}while(template.indexOf("{rightArrow}")!==-1){template=template.replace("{rightArrow}",this.icons.rightArrow)}this.picker=$(template).appendTo(this.isInline?this.element:this.container).on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation){if($.fn.mousewheel){this.picker.on({mousewheel:$.proxy(this.mousewheel,this)})}else{console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")}}if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");var selector=".prev i, .next i";this.picker.find(selector).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}$(document).on("mousedown",function(e){if($(e.target).closest(".datetimepicker").length===0){that.hide()}});this.autoclose=false;if("autoclose" in options){this.autoclose=options.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in options){this.keyboardNavigation=options.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(options.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(options.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((options.weekStart||this.element.data("date-weekstart")||dates[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.dow="long";this.daysOfWeekDisabled=[];this.setStartDate(options.startDate||this.element.data("date-startdate"));this.setEndDate(options.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(options.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.setMinutesDisabled(options.minutesDisabled||this.element.data("date-minute-disabled"));this.setHoursDisabled(options.hoursDisabled||this.element.data("date-hour-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};Datetimepicker.prototype={constructor:Datetimepicker,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}}for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.on(ev)}},_detachEvents:function(){for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.off(ev)}this._events=[]},show:function(e){this.picker.show();this.height=this.element.outerHeight();if(this.forceParse){this.update()}this.place();$(window).on("resize",$.proxy(this.place,this));if(e){e.stopPropagation();e.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(e){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();$(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){$(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var d=this.getUTCDate();return new Date(d.getTime()+(d.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(d){this.setUTCDate(new Date(d.getTime()-(d.getTimezoneOffset()*60000)))},setUTCDate:function(d){if(d>=this.startDate&&d<=this.endDate){this.date=d;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:d,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(format){this.format=DPGlobal.parseFormat(format,this.formatType);var element;if(this.isInput){element=this.element}if(element&&element.val()){this.setValue()}},setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){this.element.data("date",formatted)}else{this.element.val(formatted)}if(this.linkField){name=this.element.prop("name")+"_submit";$("input [name='"+name+"']").val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(format){if(format==undefined){format=this.format}return DPGlobal.formatDate(this.date,format,this.language,this.formatType)},setStartDate:function(startDate){this.startDate=startDate||-Infinity;if(this.startDate!==-Infinity){this.startDate=DPGlobal.parseDate(this.startDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setEndDate:function(endDate){this.endDate=endDate||Infinity;if(this.endDate!==Infinity){this.endDate=DPGlobal.parseDate(this.endDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this.daysOfWeekDisabled=daysOfWeekDisabled||[];if(!$.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setMinutesDisabled:function(minutesDisabled){this.minutesDisabled=minutesDisabled||[];if(!$.isArray(this.minutesDisabled)){this.minutesDisabled=this.minutesDisabled.split(/,\s*/)}this.minutesDisabled=$.map(this.minutesDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setHoursDisabled:function(hoursDisabled){this.hoursDisabled=hoursDisabled||[];if(!$.isArray(this.hoursDisabled)){this.hoursDisabled=this.hoursDisabled.split(/,\s*/)}this.hoursDisabled=$.map(this.hoursDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var index_highest=0;$("div").each(function(){var index_current=parseInt($(this).css("zIndex"),10);if(index_current>index_highest){index_highest=index_current}});var zIndex=index_highest+10;var offset,top,left,containerOffset;if(this.container instanceof $){containerOffset=this.container.offset()}else{containerOffset=$(this.container).offset()}offset=this.element.offset();left=offset.left;if(left+220>document.body.clientWidth){left=document.body.clientWidth-220}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){top=offset.top-this.picker.outerHeight()}else{top=offset.top+this.height}top=top-containerOffset.top;left=left-containerOffset.left;this.picker.css({top:top,left:left,zIndex:zIndex})},update:function(){var date,fromArgs=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){date=arguments[0];fromArgs=true}else{date=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate;if(typeof date=="string"||date instanceof String){date=date.replace(/^\s+|\s+$/g,"")}}if(!date){date=new Date();fromArgs=false}this.date=DPGlobal.parseDate(date,this.format,this.language,this.formatType);if(fromArgs){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var dowCnt=this.weekStart,html="<tr>";while(dowCnt<this.weekStart+7){dow=this.dow=="long"?dates[this.language].daysShort:dates[this.language].daysMin;html+='<td class="dow">'+dow[(dowCnt++)%7]+"</td>"}html+="</tr>";this.picker.find(".datetimepicker-days thead").append(html)},fillMonths:function(){var html="",i=0;while(i<12){html+='<span class="month">'+dates[this.language].monthsShort[i++]+"</span>"}this.picker.find(".datetimepicker-months td").html(html)},fill:function(){if(this.date==null||this.viewDate==null){return}var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),dayMonth=d.getUTCDate(),hours=d.getUTCHours(),minutes=d.getUTCMinutes(),startYear=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,startMonth=this.startDate!==-Infinity?this.startDate.getUTCMonth()+1:-Infinity,endYear=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,endMonth=this.endDate!==Infinity?this.endDate.getUTCMonth()+1:Infinity,currentDate=(new UTCDate(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),today=new Date();this.picker.find(".datetimepicker-days thead th:eq(1)").text(dates[this.language].months[month]+" "+year);if(this.formatViewType=="time"){var formatted=this.getFormattedDate();this.picker.find(".datetimepicker-hours thead th:eq(1)").text(formatted);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(formatted)}else{this.picker.find(".datetimepicker-hours thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year)}this.picker.find("tfoot th.today").text(dates[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()==this.weekStart){html.push("<tr>")}clsName="";if(prevMonth.getUTCFullYear()<year||(prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()<month)){clsName+=" old"}else{if(prevMonth.getUTCFullYear()>year||(prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()>month)){clsName+=" new"}}if(this.todayHighlight&&prevMonth.getUTCFullYear()==today.getFullYear()&&prevMonth.getUTCMonth()==today.getMonth()&&prevMonth.getUTCDate()==today.getDate()){clsName+=" today"}if(prevMonth.valueOf()==currentDate){clsName+=" active"}if((prevMonth.valueOf()+86400000)<=this.startDate||prevMonth.valueOf()>this.endDate||$.inArray(prevMonth.getUTCDay(),this.daysOfWeekDisabled)!==-1){clsName+=" disabled"}html.push('<td class="day'+clsName+'">'+prevMonth.getUTCDate()+"</td>");if(prevMonth.getUTCDay()==this.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(html.join(""));html=[];var txt="",meridian="",meridianOld="";var hoursDisabled=this.hoursDisabled||[];for(var i=0;i<24;i++){if(hoursDisabled.indexOf(i)!==-1){continue}var actual=UTCDate(year,month,dayMonth,i);clsName="";if((actual.valueOf()+3600000)<=this.startDate||actual.valueOf()>this.endDate){clsName+=" disabled"}else{if(hours==i){clsName+=" active"}}if(this.showMeridian&&dates[this.language].meridiem.length==2){meridian=(i<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!=meridianOld){if(meridianOld!=""){html.push("</fieldset>")}html.push('<fieldset class="hour"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(i%12?i%12:12);html.push('<span class="hour'+clsName+" hour_"+(i<12?"am":"pm")+'">'+txt+"</span>");if(i==23){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="hour'+clsName+'">'+txt+"</span>")}}this.picker.find(".datetimepicker-hours td").html(html.join(""));html=[];txt="",meridian="",meridianOld="";var minutesDisabled=this.minutesDisabled||[];for(var i=0;i<60;i+=this.minuteStep){if(minutesDisabled.indexOf(i)!==-1){continue}var actual=UTCDate(year,month,dayMonth,hours,i,0);clsName="";if(actual.valueOf()<this.startDate||actual.valueOf()>this.endDate){clsName+=" disabled"}else{if(Math.floor(minutes/this.minuteStep)==Math.floor(i/this.minuteStep)){clsName+=" active"}}if(this.showMeridian&&dates[this.language].meridiem.length==2){meridian=(hours<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!=meridianOld){if(meridianOld!=""){html.push("</fieldset>")}html.push('<fieldset class="minute"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(hours%12?hours%12:12);html.push('<span class="minute'+clsName+'">'+txt+":"+(i<10?"0"+i:i)+"</span>");if(i==59){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="minute'+clsName+'">'+hours+":"+(i<10?"0"+i:i)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(html.join(""));var currentYear=this.date.getUTCFullYear();var months=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");if(currentYear==year){months.eq(this.date.getUTCMonth()+2).addClass("active")}if(year<startYear||year>endYear){months.addClass("disabled")}if(year==startYear){months.slice(0,startMonth+1).addClass("disabled")}if(year==endYear){months.slice(endMonth).addClass("disabled")}html="";year=parseInt(year/10,10)*10;var yearCont=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i==-1||i==10?" old":"")+(currentYear==year?" active":"")+(year<startYear||year>endYear?" disabled":"")+'">'+year+"</span>";year+=1}yearCont.html(html);this.place()},updateNavArrows:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),day=d.getUTCDate(),hour=d.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()&&hour<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()&&hour>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},mousewheel:function(e){e.preventDefault();e.stopPropagation();if(this.wheelPause){return}this.wheelPause=true;var originalEvent=e.originalEvent;var delta=originalEvent.wheelDelta;var mode=delta>0?1:(delta===0)?0:-1;if(this.wheelViewModeNavigationInverseDirection){mode=-mode}this.showMode(mode);setTimeout($.proxy(function(){this.wheelPause=false},this),this.wheelViewModeNavigationDelay)},click:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target).closest("span, td, th, legend");if(target.is("."+this.icontype)){target=$(target).parent().closest("span, td, th, legend")}if(target.length==1){if(target.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,dir);break;case 1:this.viewDate=this.moveDate(this.viewDate,dir);break;case 2:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,dir);break}this.fill();this.element.trigger({type:target[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"today":var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),0);if(date<this.startDate){date=this.startDate}else{if(date>this.endDate){date=this.endDate}}this.viewMode=this.startViewMode;this.showMode(0);this._setDate(date);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!target.is(".disabled")){var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),day=this.viewDate.getUTCDate(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".month")){this.viewDate.setUTCDate(1);month=target.parent().find("span").index(target);day=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(month);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".year")){this.viewDate.setUTCDate(1);year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".hour")){hours=parseInt(target.text(),10)||0;if(target.hasClass("hour_am")||target.hasClass("hour_pm")){if(hours==12&&target.hasClass("hour_am")){hours=0}else{if(hours!=12&&target.hasClass("hour_pm")){hours+=12}}}this.viewDate.setUTCHours(hours);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".minute")){minutes=parseInt(target.text().substr(target.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(minutes);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}}}}if(this.viewMode!=0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1;var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".old")){if(month===0){month=11;year-=1}else{month-=1}}else{if(target.is(".new")){if(month==11){month=0;year+=1}else{month+=1}}}this.viewDate.setUTCFullYear(year);this.viewDate.setUTCMonth(month,day);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(date,which){if(!which||which=="date"){this.date=date}if(!which||which=="view"){this.viewDate=date}this.fill();this.setValue();var element;if(this.isInput){element=this.element}if(element){element.change();if(this.autoclose&&(!which||which=="date")){}}this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCMinutes(new_date.getUTCMinutes()+(dir*this.minuteStep));return new_date},moveHour:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCHours(new_date.getUTCHours()+dir);return new_date},moveDate:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCDate(new_date.getUTCDate()+dir);return new_date},moveMonth:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag==1){test=dir==-1?function(){return new_date.getUTCMonth()==month}:function(){return new_date.getUTCMonth()!=new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11){new_month=(new_month+12)%12}}else{for(var i=0;i<mag;i++){new_date=this.moveMonth(new_date,dir)}new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!=new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.startDate&&date<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27){this.show()}return}var dateChanged=false,dir,day,month,newDate,newViewDate;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}dir=e.keyCode==37?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode==3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode==2){newDate=this.moveDate(this.date,dir);newViewDate=this.moveDate(this.viewDate,dir)}else{if(viewMode==1){newDate=this.moveHour(this.date,dir);newViewDate=this.moveHour(this.viewDate,dir)}else{if(viewMode==0){newDate=this.moveMinute(this.date,dir);newViewDate=this.moveMinute(this.viewDate,dir)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 38:case 40:if(!this.keyboardNavigation){break}dir=e.keyCode==38?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode==3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode==2){newDate=this.moveDate(this.date,dir*7);newViewDate=this.moveDate(this.viewDate,dir*7)}else{if(viewMode==1){if(this.showMeridian){newDate=this.moveHour(this.date,dir*6);newViewDate=this.moveHour(this.viewDate,dir*6)}else{newDate=this.moveHour(this.date,dir*4);newViewDate=this.moveHour(this.viewDate,dir*4)}}else{if(viewMode==0){newDate=this.moveMinute(this.date,dir*4);newViewDate=this.moveMinute(this.viewDate,dir*4)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 13:if(this.viewMode!=0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}e.preventDefault();break;case 9:this.hide();break}if(dateChanged){var element;if(this.isInput){element=this.element}if(element){element.change()}this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(dir){if(dir){var newViewMode=Math.max(0,Math.min(DPGlobal.modes.length-1,this.viewMode+dir));if(newViewMode>=this.minView&&newViewMode<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:newViewMode});this.viewMode=newViewMode}}this.picker.find(">div").hide().filter(".datetimepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(e){this._setDate(null,"date")},convertViewModeText:function(viewMode){switch(viewMode){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};$.fn.datetimepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options=typeof option=="object"&&option;if(!data){$this.data("datetimepicker",(data=new Datetimepicker(this,$.extend({},$.fn.datetimepicker.defaults,options))))}if(typeof option=="string"&&typeof data[option]=="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined){return false}}});if(internal_return!==undefined){return internal_return}else{return this}};$.fn.datetimepicker.defaults={};$.fn.datetimepicker.Constructor=Datetimepicker;var dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}};var DPGlobal={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0))},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]},getDefaultFormat:function(type,field){if(type=="standard"){if(field=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(type=="php"){if(field=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(type){if(type=="standard"){return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(type=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(format,type){var separators=format.replace(this.validParts(type),"\0").split("\0"),parts=format.match(this.validParts(type));if(!separators||!separators.length||!parts||parts.length==0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language,type){if(date instanceof Date){var dateUTC=new Date(date.valueOf()-date.getTimezoneOffset()*60000);dateUTC.setMilliseconds(0);return dateUTC}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii:ss",type)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(date)){var part_re=/([-+]\d+)([dmwy])/,parts=date.match(/([-+]\d+)([dmwy])/g),part,dir;date=new Date();for(var i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+dir*7);break;case"y":date=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,date,dir);break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),0)}var parts=date&&date.match(this.nonpunctuation)||[],date=new Date(0,0,0,0,0,0,0),parsed={},setters_order=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],setters_map={hh:function(d,v){return d.setUTCHours(v)},h:function(d,v){return d.setUTCHours(v)},HH:function(d,v){return d.setUTCHours(v==12?0:v)},H:function(d,v){return d.setUTCHours(v==12?0:v)},ii:function(d,v){return d.setUTCMinutes(v)},i:function(d,v){return d.setUTCMinutes(v)},ss:function(d,v){return d.setUTCSeconds(v)},s:function(d,v){return d.setUTCSeconds(v)},yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2000+v)},m:function(d,v){v-=1;while(v<0){v+=12}v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!=v){if(isNaN(d.getUTCMonth())){return d}else{d.setUTCDate(d.getUTCDate()-1)}}return d},d:function(d,v){return d.setUTCDate(v)},p:function(d,v){return d.setUTCHours(v==1?d.getUTCHours()+12:d.getUTCHours())}},val,filtered,part;setters_map.M=setters_map.MM=setters_map.mm=setters_map.m;setters_map.dd=setters_map.d;setters_map.P=setters_map.p;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds());if(parts.length==format.parts.length){for(var i=0,cnt=format.parts.length;i<cnt;i++){val=parseInt(parts[i],10);part=format.parts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p});val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()==p.toLowerCase()});val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;case"p":case"P":val=$.inArray(parts[i].toLowerCase(),dates[language].meridiem);break}}parsed[part]=val}for(var i=0,s;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){setters_map[s](date,parsed[s])}}}return date},formatDate:function(date,format,language,type){if(date==null){return""}var val;if(type=="standard"){val={yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear(),m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],p:(dates[language].meridiem.length==2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),h:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()};if(dates[language].meridiem.length==2){val.H=(val.h%12==0?12:val.h%12)}else{val.H=val.h}val.HH=(val.H<10?"0":"")+val.H;val.P=val.p.toUpperCase();val.hh=(val.h<10?"0":"")+val.h;val.ii=(val.i<10?"0":"")+val.i;val.ss=(val.s<10?"0":"")+val.s;val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m}else{if(type=="php"){val={y:date.getUTCFullYear().toString().substring(2),Y:date.getUTCFullYear(),F:dates[language].months[date.getUTCMonth()],M:dates[language].monthsShort[date.getUTCMonth()],n:date.getUTCMonth()+1,t:DPGlobal.getDaysInMonth(date.getUTCFullYear(),date.getUTCMonth()),j:date.getUTCDate(),l:dates[language].days[date.getUTCDay()],D:dates[language].daysShort[date.getUTCDay()],w:date.getUTCDay(),N:(date.getUTCDay()==0?7:date.getUTCDay()),S:(date.getUTCDate()%10<=dates[language].suffix.length?dates[language].suffix[date.getUTCDate()%10-1]:""),a:(dates[language].meridiem.length==2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),g:(date.getUTCHours()%12==0?12:date.getUTCHours()%12),G:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()};val.m=(val.n<10?"0":"")+val.n;val.d=(val.j<10?"0":"")+val.j;val.A=val.a.toString().toUpperCase();val.h=(val.g<10?"0":"")+val.g;val.H=(val.G<10?"0":"")+val.G;val.i=(val.i<10?"0":"")+val.i;val.s=(val.s<10?"0":"")+val.s}else{throw new Error("Invalid format type.")}}var date=[],seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<cnt;i++){if(seps.length){date.push(seps.shift())}date.push(val[format.parts[i]])}if(seps.length){date.push(seps.shift())}return date.join("")},convertViewMode:function(viewMode){switch(viewMode){case 4:case"decade":viewMode=4;break;case 3:case"year":viewMode=3;break;case 2:case"month":viewMode=2;break;case 1:case"day":viewMode=1;break;case 0:case"hour":viewMode=0;break}return viewMode},headTemplate:'<thead><tr><th class="prev"><i class="{leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{rightArrow}"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};DPGlobal.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class="wojo basic collapsing table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-hours"><table class="wojo basic collapsing table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-days"><table class="wojo basic collapsing table">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-months"><table class="wojo basic collapsing table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-years"><table class="wojo basic collapsing table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>";$.fn.datetimepicker.DPGlobal=DPGlobal;$.fn.datetimepicker.noConflict=function(){$.fn.datetimepicker=old;return this};$(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var $this=$(this);if($this.data("datetimepicker")){return}e.preventDefault();$this.datetimepicker("show")});$(function(){$('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);
/* Custom File Input 
 * bootstrap-filestyle
 * doc: http://dev.tudosobreweb.com.br/bootstrap-filestyle/
 * github: https://github.com/markusslima/bootstrap-filestyle
 */
(function(c){var b=function(e,d){this.options=d;this.$elementFilestyle=[];this.$element=c(e)};b.prototype={clear:function(){this.$element.val("");this.$elementFilestyle.find(":text").val("");this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val("");this.$elementFilestyle.remove()},disabled:function(d){if(d===true){if(!this.options.disabled){this.$element.attr("disabled","true");this.$elementFilestyle.find("label").attr("disabled","true");this.options.disabled=true}}else{if(d===false){if(this.options.disabled){this.$element.removeAttr("disabled");this.$elementFilestyle.find("label").removeAttr("disabled");this.options.disabled=false}}else{return this.options.disabled}}},buttonBefore:function(d){if(d===true){if(!this.options.buttonBefore){this.options.buttonBefore=true;if(this.options.input){this.$elementFilestyle.remove();this.constructor();this.pushNameFiles()}}}else{if(d===false){if(this.options.buttonBefore){this.options.buttonBefore=false;if(this.options.input){this.$elementFilestyle.remove();this.constructor();this.pushNameFiles()}}}else{return this.options.buttonBefore}}},icon:function(d){if(d===true){if(!this.options.icon){this.options.icon=true;this.$elementFilestyle.find("label").prepend(this.htmlIcon())}}else{if(d===false){if(this.options.icon){this.options.icon=false;this.$elementFilestyle.find(".glyphicon").remove()}}else{return this.options.icon}}},input:function(e){if(e===true){if(!this.options.input){this.options.input=true;if(this.options.buttonBefore){this.$elementFilestyle.append(this.htmlInput())}else{this.$elementFilestyle.prepend(this.htmlInput())}this.$elementFilestyle.find(".badge").remove();this.pushNameFiles();this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn")}}else{if(e===false){if(this.options.input){this.options.input=false;this.$elementFilestyle.find(":text").remove();var d=this.pushNameFiles();if(d.length>0&&this.options.badge){this.$elementFilestyle.find("label").append(' <span class="badge">'+d.length+"</span>")}this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}else{return this.options.input}}},size:function(f){if(f!==undefined){var e=this.$elementFilestyle.find("label"),d=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm");d.removeClass("input-lg input-sm");if(f!="nr"){e.addClass("btn-"+f);d.addClass("input-"+f)}}else{return this.options.size}},buttonText:function(d){if(d!==undefined){this.options.buttonText=d;this.$elementFilestyle.find("label span").html(this.options.buttonText)}else{return this.options.buttonText}},buttonName:function(d){if(d!==undefined){this.options.buttonName=d;this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName})}else{return this.options.buttonName}},iconName:function(d){if(d!==undefined){this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName})}else{return this.options.iconName}},htmlIcon:function(){if(this.options.icon){return'<i class="icon open folder"></i> '}else{return""}},htmlInput:function(){if(this.options.input){return'<input disabled="disabled" type="text" class="form-control '+(this.options.size=="nr"?"":"input-"+this.options.size)+'"> '}else{return""}},pushNameFiles:function(){var f="",e=[];if(this.$element[0].files===undefined){e[0]={name:this.$element[0]&&this.$element[0].value}}else{e=this.$element[0].files}for(var d=0;d<e.length;d++){f+=e[d].name.split("\\").pop()+", "}if(f!==""){this.$elementFilestyle.find(":text").val(f.replace(/\, $/g,""))}else{this.$elementFilestyle.find(":text").val("")}return e},constructor:function(){var e=this,g="",i=e.$element.attr("id"),h=[],f="",d;if(i===""||!i){i="filestyle-"+c(".bootstrap-filestyle").length;e.$element.attr({id:i})}f='<a class="group-span-filestyle '+(e.options.input?"input-group-btn":"")+'"><label for="'+i+'" class="btn '+e.options.buttonName+" "+(e.options.size=="nr"?"":"btn-"+e.options.size)+'" '+(e.options.disabled?'disabled="true"':"")+">"+e.htmlIcon()+e.options.buttonText+"</label></a>";g=e.options.buttonBefore?f+e.htmlInput():e.htmlInput()+f;e.$elementFilestyle=c('<div class="fileinput">'+g+"</div>");e.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(j){if(j.keyCode===13||j.charCode===32){e.$elementFilestyle.find("label").click();return false}});e.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(e.$elementFilestyle);if(e.options.disabled){e.$element.attr("disabled","true")}e.$element.change(function(){var j=e.pushNameFiles();if(e.options.input==false&&e.options.badge){if(e.$elementFilestyle.find(".badge").length==0){e.$elementFilestyle.find("label").append(' <span class="badge">'+j.length+"</span>")}else{if(j.length==0){e.$elementFilestyle.find(".badge").remove()}else{e.$elementFilestyle.find(".badge").html(j.length)}}}else{e.$elementFilestyle.find(".badge").remove()}});if(window.navigator.userAgent.search(/firefox/i)>-1){e.$elementFilestyle.find("label").click(function(){e.$element.click();return false})}}};var a=c.fn.filestyle;c.fn.filestyle=function(f,g){var d="",e=this.each(function(){if(c(this).attr("type")==="file"){var j=c(this),i=j.data("filestyle"),h=c.extend({},c.fn.filestyle.defaults,f,typeof f==="object"&&f);if(!i){j.data("filestyle",(i=new b(this,h)));i.constructor()}if(typeof f==="string"){d=i[f](g)}}});if(typeof d!==undefined){return d}else{return e}};c.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:true,badge:true,icon:true,buttonBefore:false,disabled:false};c.fn.filestyle.noConflict=function(){c.fn.filestyle=a;return this};c(function(){c(".filestyle").each(function(){var e=c(this),d={input:e.attr("data-input")==="false"?false:true,icon:e.attr("data-icon")==="false"?false:true,buttonBefore:e.attr("data-buttonBefore")==="true"?true:false,disabled:e.attr("data-disabled")==="true"?true:false,size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:e.attr("data-badge")==="false"?false:true};e.filestyle(d)})})})(window.jQuery);
/*
 * Notices
 */
(function($){$.sticky=function(note,options,callback){return $.fn.sticky(note,options,callback)};$.fn.sticky=function(note,options,callback){var settings={speed:"fast",duplicates:true,autoclose:5000,title:"",type:""};if(!note){note=this.html()}if(options){$.extend(settings,options)}var display=true;var duplicate="no";var uniqID=Math.floor(Math.random()*99999);$(".wojo.message.notice").each(function(){if($(this).html()==note&&$(this).is(":visible")){duplicate="yes";if(!settings.duplicates){display=false}}if($(this).attr("id")==uniqID){uniqID=Math.floor(Math.random()*9999999)}});if(!$("body").find("#wojo-overlay").html()){$("body").append('<div id="wojo-overlay"></div>')}if(display){$("#wojo-overlay").prepend('<div class="wojo message notice '+settings.type+'" id="'+uniqID+'"></div>');$("#"+uniqID).append('<div class="content"><span>'+settings.title+'</span><a class="notice-close" data-id="'+uniqID+'"title="Close"><i class="icon close"></i></a></div>');$("#"+uniqID).append('<p class="sticky-note" data-id="'+uniqID+'">'+note+"</p>");$("#"+uniqID).slideDown(settings.speed);display=true}$(".wojo.message.notice").ready(function(){if(settings.autoclose){$("#"+uniqID).delay(settings.autoclose).slideUp(settings.speed)}});$(".wojo.message.notice").click(function(){$(this).dequeue().slideUp(settings.speed)});var response={id:uniqID,duplicate:duplicate,displayed:display,type:settings.type,title:settings.title};if(callback){callback(response)}else{return(response)}}})(jQuery);
/*
 * # Semantic - Dropdown
 * http://github.com/jlukic/semantic-ui/
 */
(function(c,b,a,d){c.fn.dropdown=function(o){var m=c(this),h=c(a),j=m.selector||"",i=("ontouchstart" in a.documentElement),f=new Date().getTime(),l=[],k=arguments[0],e=(typeof k=="string"),n=[].slice.call(arguments,1),g;m.each(function(){var r=(c.isPlainObject(o))?c.extend(true,{},c.fn.dropdown.settings,o):c.extend({},c.fn.dropdown.settings),w=r.className,A=r.metadata,s=r.namespace,t=r.selector,x=r.error,E="."+s,v="module-"+s,z=c(this),C=z.find(t.item),B=z.find(t.text),y=z.find(t.input),p=z.children(t.menu),u=this,D=z.data(v),q;q={initialize:function(){q.debug("Initializing dropdown",r);q.save.defaults();q.set.selected();if(i){q.bind.touchEvents()}q.bind.mouseEvents();q.instantiate()},instantiate:function(){q.verbose("Storing instance of dropdown",q);D=q;z.data(v,q)},destroy:function(){q.verbose("Destroying previous dropdown for",z);C.off(E);z.off(E).removeData(v)},bind:{touchEvents:function(){q.debug("Touch device detected binding touch events");z.on("touchstart"+E,q.event.test.toggle);C.on("touchstart"+E,q.event.item.mouseenter).on("touchstart"+E,q.event.item.click)},mouseEvents:function(){q.verbose("Mouse detected binding mouse events");if(r.on=="click"){z.on("click"+E,q.event.test.toggle)}else{if(r.on=="hover"){z.on("mouseenter"+E,q.delay.show).on("mouseleave"+E,q.delay.hide)}else{z.on(r.on+E,q.toggle)}}C.on("mouseenter"+E,q.event.item.mouseenter).on("mouseleave"+E,q.event.item.mouseleave).on("click"+E,q.event.item.click)},intent:function(){q.verbose("Binding hide intent event to document");if(i){h.on("touchstart"+E,q.event.test.touch).on("touchmove"+E,q.event.test.touch)}h.on("click"+E,q.event.test.hide)}},unbind:{intent:function(){q.verbose("Removing hide intent event from document");if(i){h.off("touchstart"+E).off("touchmove"+E)}h.off("click"+E)}},event:{test:{toggle:function(F){if(q.determine.intent(F,q.toggle)){F.preventDefault()}},touch:function(F){q.determine.intent(F,function(){if(F.type=="touchstart"){q.timer=setTimeout(q.hide,r.delay.touch)}else{if(F.type=="touchmove"){clearTimeout(q.timer)}}});F.stopPropagation()},hide:function(F){q.determine.intent(F,q.hide)}},item:{mouseenter:function(H){var F=c(this).find(t.menu),G=c(this).siblings(t.item).children(t.menu);if(F.size()>0){clearTimeout(q.itemTimer);q.itemTimer=setTimeout(function(){q.animate.hide(false,G);q.verbose("Showing sub-menu",F);q.animate.show(false,F)},r.delay.show*2);H.preventDefault()}},mouseleave:function(G){var F=c(this).find(t.menu);if(F.size()>0){clearTimeout(q.itemTimer);q.itemTimer=setTimeout(function(){q.verbose("Hiding sub-menu",F);q.animate.hide(false,F)},r.delay.hide)}},click:function(G){var F=c(this),I=(F.data(A.text)!==d)?F.data(A.text):F.text(),H=(F.data(A.value)!==d)?F.data(A.value):I.toLowerCase(),J=function(){q.determine.selectAction(I,H);c.proxy(r.onChange,u)(H,I)};if(F.find(t.menu).size()===0){if(G.type=="touchstart"){F.one("click",J)}else{J()}}}},resetStyle:function(){c(this).removeAttr("style")}},determine:{selectAction:function(G,F){q.verbose("Determining action",r.action);if(c.isFunction(q.action[r.action])){q.verbose("Triggering preset action",r.action,G,F);q.action[r.action](G,F)}else{if(c.isFunction(r.action)){q.verbose("Triggering user action",r.action,G,F);r.action(G,F)}else{q.error(x.action,r.action)}}},intent:function(F,G){q.debug("Determining whether event occurred in dropdown",F.target);G=G||function(){};if(c(F.target).closest(p).size()===0){q.verbose("Triggering event",G);G();return true}else{q.verbose("Event occurred in dropdown, canceling callback");return false}}},action:{nothing:function(){},hide:function(){q.hide()},activate:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()},auto:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()},changeText:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.hide()},updateForm:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()}},get:{text:function(){return B.text()},value:function(){return(y.size()>0)?y.val():z.data(A.value)},item:function(G){var F=false;G=(G!==d)?G:(q.get.value()!==d)?q.get.value():q.get.text();if(G!==d){C.each(function(){var H=c(this),J=(H.data(A.text)!==d)?H.data(A.text):H.text(),I=(H.data(A.value)!==d)?H.data(A.value):J.toLowerCase();if(I==G){F=c(this)}else{if(!F&&J==G){F=c(this)}}})}else{G=q.get.text()}return F||false}},restore:{defaults:function(){q.restore.defaultText();q.restore.defaultValue()},defaultText:function(){var F=z.data(A.defaultText);q.debug("Restoring default text",F);q.set.text(F)},defaultValue:function(){var F=z.data(A.defaultValue);if(F!==d){q.debug("Restoring default value",F);q.set.selected(F);q.set.value(F)}}},save:{defaults:function(){q.save.defaultText();q.save.defaultValue()},defaultValue:function(){z.data(A.defaultValue,q.get.value())},defaultText:function(){z.data(A.defaultText,B.text())}},set:{text:function(F){q.debug("Changing text",F,B);B.removeClass(w.placeholder);B.text(F)},value:function(F){q.debug("Adding selected value to hidden input",F,y);if(y.size()>0){y.val(F)}else{z.data(A.value,F)}},active:function(){z.addClass(w.active)},visible:function(){z.addClass(w.visible)},selected:function(G){var F=q.get.item(G),H;if(F){q.debug("Setting selected menu item to",F);H=(F.data(A.text)!==d)?F.data(A.text):F.text();C.removeClass(w.active);F.addClass(w.active);q.set.text(H)}}},remove:{active:function(){z.removeClass(w.active)},visible:function(){z.removeClass(w.visible)}},is:{selection:function(){return z.hasClass(w.selection)},animated:function(F){return(F)?F.is(":animated"):p.is(":animated")},visible:function(F){return(F)?F.is(":visible"):p.is(":visible")},hidden:function(F){return(F)?F.is(":not(:visible)"):p.is(":not(:visible)")}},can:{click:function(){return(i||r.on=="click")},show:function(){return !z.hasClass(w.disabled)}},animate:{show:function(H,G){var F=G||p;H=H||function(){};if(q.is.hidden(F)){q.verbose("Doing menu show animation",F);if(r.transition=="none"){H()}else{if(c.fn.transition!==d&&z.transition("is supported")){F.transition({animation:r.transition+" in",duration:r.duration,complete:H,queue:false})}else{if(r.transition=="slide down"){F.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},r.duration,"easeOutQuad",q.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){c.proxy(q.event.resetStyle,this)();H()})}else{if(r.transition=="fade"){F.hide().clearQueue().fadeIn(r.duration,function(){c.proxy(q.event.resetStyle,this)();H()})}else{q.error(x.transition,r.transition)}}}}}},hide:function(H,G){var F=G||p;H=H||function(){};if(q.is.visible(F)){q.verbose("Doing menu hide animation",F);if(c.fn.transition!==d&&z.transition("is supported")){F.transition({animation:r.transition+" out",duration:r.duration,complete:H,queue:false})}else{if(r.transition=="none"){H()}else{if(r.transition=="slide down"){F.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",q.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){c.proxy(q.event.resetStyle,this)();H()})}else{if(r.transition=="fade"){F.show().clearQueue().fadeOut(150,function(){c.proxy(q.event.resetStyle,this)();H()})}else{q.error(x.transition)}}}}}}},show:function(){q.debug("Checking if dropdown can show");if(q.is.hidden()){q.hideOthers();q.set.active();q.animate.show(function(){if(q.can.click()){q.bind.intent()}q.set.visible()});c.proxy(r.onShow,u)()}},hide:function(){if(!q.is.animated()&&q.is.visible()){q.debug("Hiding dropdown");if(q.can.click()){q.unbind.intent()}q.remove.active();q.animate.hide(q.remove.visible);c.proxy(r.onHide,u)()}},delay:{show:function(){q.verbose("Delaying show event to ensure user intent");clearTimeout(q.timer);q.timer=setTimeout(q.show,r.delay.show)},hide:function(){q.verbose("Delaying hide event to ensure user intent");clearTimeout(q.timer);q.timer=setTimeout(q.hide,r.delay.hide)}},hideOthers:function(){q.verbose("Finding other dropdowns to hide");m.not(z).has(t.menu+":visible").dropdown("hide")},toggle:function(){q.verbose("Toggling menu visibility");if(q.is.hidden()){q.show()}else{q.hide()}},setting:function(F,G){if(c.isPlainObject(F)){c.extend(true,r,F)}else{if(G!==d){r[F]=G}else{return r[F]}}},internal:function(F,G){if(c.isPlainObject(F)){c.extend(true,q,F)}else{if(G!==d){q[F]=G}else{return q[F]}}},debug:function(){if(r.debug){if(r.performance){q.performance.log(arguments)}else{q.debug=Function.prototype.bind.call(console.info,console,r.name+":");q.debug.apply(console,arguments)}}},verbose:function(){if(r.verbose&&r.debug){if(r.performance){q.performance.log(arguments)}else{q.verbose=Function.prototype.bind.call(console.info,console,r.name+":");q.verbose.apply(console,arguments)}}},error:function(){q.error=Function.prototype.bind.call(console.error,console,r.name+":");q.error.apply(console,arguments)},performance:{log:function(H){var G,I,F;if(r.performance){G=new Date().getTime();F=f||G;I=G-F;f=G;l.push({Element:u,Name:H[0],Arguments:[].slice.call(H,1)||"","Execution Time":I})}clearTimeout(q.performance.timer);q.performance.timer=setTimeout(q.performance.display,100)},display:function(){var G=r.name+":",F=0;f=false;clearTimeout(q.performance.timer);c.each(l,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(j){G+=" '"+j+"'"}if((console.group!==d||console.table!==d)&&l.length>0){console.groupCollapsed(G);if(console.table){console.table(l)}else{c.each(l,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}l=[]}},invoke:function(K,G,I){var H=D,L,J,F;G=G||n;I=u||I;if(typeof K=="string"&&H!==d){K=K.split(/[\. ]/);L=K.length-1;c.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(c.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==d){J=H[M];return false}else{if(c.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==d){J=H[N];return false}else{q.error(x.method,K);return false}}}}})}if(c.isFunction(J)){F=J.apply(I,G)}else{if(J!==d){F=J}}if(c.isArray(g)){g.push(F)}else{if(g!==d){g=[g,F]}else{if(F!==d){g=F}}}return J}};if(e){if(D===d){q.initialize()}q.invoke(k)}else{if(D!==d){q.destroy()}q.initialize()}});return(g)?g:this};c.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:false,debug:false,performance:true,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(e,f){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}};c.extend(c.easing,{easeOutQuad:function(f,g,e,i,h){return -i*(g/=h)*(g-2)+e}})})(jQuery,window,document);
/*
 * # Semantic - Popup
 * http://github.com/jlukic/semantic-ui/
 */
(function(c,b,a,d){c.fn.popup=function(n){var l=c(this),h=c(a),i=l.selector||"",f=new Date().getTime(),k=[],j=arguments[0],e=(typeof j=="string"),m=[].slice.call(arguments,1),g;l.each(function(){var D=(c.isPlainObject(n))?c.extend(true,{},c.fn.popup.settings,n):c.extend({},c.fn.popup.settings),C=D.selector,q=D.className,B=D.error,t=D.metadata,v=D.namespace,A="."+D.namespace,w="module-"+v,s=c(this),y=c(D.context),r=(D.target)?c(D.target):s,x=c(b),F=(D.inline)?r.offsetParent():x,z=(D.inline)?r.next(D.selector.popup):x.children(D.selector.popup).last(),u=0,p=this,E=s.data(w),o;o={initialize:function(){o.debug("Initializing module",s);if(D.on=="click"){s.on("click",o.toggle)}else{s.on(o.get.startEvent()+A,o.event.start).on(o.get.endEvent()+A,o.event.end)}if(D.target){o.debug("Target set to element",r)}x.on("resize"+A,o.event.resize);o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o);E=o;s.data(w,E)},refresh:function(){if(D.inline){z=r.next(C.popup);F=r.offsetParent()}else{z=x.children(C.popup).last()}},destroy:function(){o.debug("Destroying previous module");x.off(A);z.remove();s.off(A).removeData(w)},event:{start:function(G){o.timer=setTimeout(function(){if(o.is.hidden()){o.show()}},D.delay)},end:function(){clearTimeout(o.timer);if(o.is.visible()){o.hide()}},resize:function(){if(o.is.visible()){o.set.position()}}},create:function(){o.debug("Creating pop-up html");var H=s.data(t.html)||D.html,G=s.data(t.variation)||D.variation,J=s.data(t.title)||D.title,I=s.data(t.content)||s.attr("title")||D.content;if(H||I||J){if(!H){H=D.template({title:J,content:I})}z=c("<div/>").addClass(q.popup).addClass(G).html(H);if(D.inline){o.verbose("Inserting popup element inline",z);z.data(w,E).insertAfter(s)}else{o.verbose("Appending popup element to body",z);z.data(w,E).appendTo(y)}c.proxy(D.onCreate,z)()}else{o.error(B.content)}},toggle:function(){o.debug("Toggling pop-up");if(o.is.hidden()){o.debug("Popup is hidden, showing pop-up");o.unbind.close();o.hideAll();o.show()}else{o.debug("Popup is visible, hiding pop-up");o.hide()}},show:function(G){G=G||function(){};o.debug("Showing pop-up",D.transition);if(!D.preserve){o.refresh()}if(!o.exists()){o.create()}o.save.conditions();o.set.position();o.animate.show(G)},hide:function(G){G=G||function(){};s.removeClass(q.visible);o.restore.conditions();o.unbind.close();if(o.is.visible()){o.animate.hide(G)}},hideAll:function(){c(C.popup).filter(":visible").popup("hide")},hideGracefully:function(G){if(G&&c(G.target).closest(C.popup).size()===0){o.debug("Click occurred outside popup hiding popup");o.hide()}else{o.debug("Click was inside popup, keeping popup open")}},exists:function(){if(D.inline){return(z.size()!==0)}else{return(z.parent(y).size())}},remove:function(){o.debug("Removing popup");z.remove();c.proxy(D.onRemove,z)()},save:{conditions:function(){o.cache={title:s.attr("title")};if(o.cache.title){s.removeAttr("title")}o.verbose("Saving original attributes",o.cache.title)}},restore:{conditions:function(){if(o.cache&&o.cache.title){s.attr("title",o.cache.title);o.verbose("Restoring original attributes",o.cache.title)}return true}},animate:{show:function(G){G=G||function(){};s.addClass(q.visible);if(D.transition&&c.fn.transition!==d&&s.transition("is supported")){z.transition(D.transition+" in",D.duration,function(){o.bind.close();c.proxy(G,p)()})}else{z.stop().fadeIn(D.duration,D.easing,function(){o.bind.close();c.proxy(G,p)()})}c.proxy(D.onShow,p)()},hide:function(G){G=G||function(){};o.debug("Hiding pop-up");if(D.transition&&c.fn.transition!==d&&s.transition("is supported")){z.transition(D.transition+" out",D.duration,function(){o.reset();G()})}else{z.stop().fadeOut(D.duration,D.easing,function(){o.reset();G()})}c.proxy(D.onHide,p)()}},get:{startEvent:function(){if(D.on=="hover"){return"mouseenter"}else{if(D.on=="focus"){return"focus"}}},endEvent:function(){if(D.on=="hover"){return"mouseleave"}else{if(D.on=="focus"){return"blur"}}},offstagePosition:function(){var J={top:c(b).scrollTop(),bottom:c(b).scrollTop()+c(b).height(),left:0,right:c(b).width()},G={width:z.width(),height:z.outerHeight(),position:z.offset()},I={},H=[];if(G.position){I={top:(G.position.top<J.top),bottom:(G.position.top+G.height>J.bottom),right:(G.position.left+G.width>J.right),left:(G.position.left<J.left)}}o.verbose("Checking if outside viewable area",G.position);c.each(I,function(L,K){if(K){H.push(L)}});return(H.length>0)?H.join(" "):false},nextPosition:function(G){switch(G){case"top left":G="bottom left";break;case"bottom left":G="top right";break;case"top right":G="bottom right";break;case"bottom right":G="top center";break;case"top center":G="bottom center";break;case"bottom center":G="right center";break;case"right center":G="left center";break;case"left center":G="top center";break}return G}},set:{position:function(M,Q){var J=c(b).width(),H=c(b).height(),I=r.outerWidth(),S=r.outerHeight(),P=z.width(),O=z.outerHeight(),R=F.outerWidth(),N=F.outerHeight(),K=D.distanceAway,L=(D.inline)?r.position():r.offset(),T,G;M=M||s.data(t.position)||D.position;Q=Q||s.data(t.offset)||D.offset;if(D.inline){if(M=="left center"||M=="right center"){Q+=parseInt(b.getComputedStyle(p).getPropertyValue("margin-top"),10);K+=-parseInt(b.getComputedStyle(p).getPropertyValue("margin-left"),10)}else{Q+=parseInt(b.getComputedStyle(p).getPropertyValue("margin-left"),10);K+=parseInt(b.getComputedStyle(p).getPropertyValue("margin-top"),10)}}o.debug("Calculating offset for position",M);switch(M){case"top left":T={bottom:N-L.top+K,right:R-L.left-Q,top:"auto",left:"auto"};break;case"top center":T={bottom:N-L.top+K,left:L.left+(I/2)-(P/2)+Q,top:"auto",right:"auto"};break;case"top right":T={top:"auto",bottom:N-L.top+K,left:L.left+I+Q,right:"auto"};break;case"left center":T={top:L.top+(S/2)-(O/2)+Q,right:R-L.left+K,left:"auto",bottom:"auto"};break;case"right center":T={top:L.top+(S/2)-(O/2)+Q,left:L.left+I+K,bottom:"auto",right:"auto"};break;case"bottom left":T={top:L.top+S+K,right:R-L.left-Q,left:"auto",bottom:"auto"};break;case"bottom center":T={top:L.top+S+K,left:L.left+(I/2)-(P/2)+Q,bottom:"auto",right:"auto"};break;case"bottom right":T={top:L.top+S+K,left:L.left+I+Q,bottom:"auto",right:"auto"};break}z.css(T).removeClass(q.position).addClass(M).addClass(q.loading);G=o.get.offstagePosition();if(G){o.debug("Element is outside boundaries",G);if(u<D.maxSearchDepth){M=o.get.nextPosition(M);u++;o.debug("Trying new position",M);return o.set.position(M)}else{o.error(B.recursion);u=0;o.reset();z.removeClass(q.loading);return false}}else{o.debug("Position is on stage",M);u=0;z.removeClass(q.loading);return true}}},bind:{close:function(){if(D.on=="click"&&D.closable){o.verbose("Binding popup close event to document");h.on("click"+A,function(G){o.verbose("Pop-up clickaway intent detected");c.proxy(o.hideGracefully,this)(G)})}}},unbind:{close:function(){if(D.on=="click"&&D.closable){o.verbose("Removing close event from document");h.off("click"+A)}}},is:{animating:function(){return(z.is(":animated")||z.hasClass(q.animating))},visible:function(){return z.is(":visible")},hidden:function(){return !o.is.visible()}},reset:function(){z.attr("style","").removeAttr("style");if(!D.preserve){o.remove()}},setting:function(G,H){if(c.isPlainObject(G)){c.extend(true,D,G)}else{if(H!==d){D[G]=H}else{return D[G]}}},internal:function(G,H){if(c.isPlainObject(G)){c.extend(true,o,G)}else{if(H!==d){o[G]=H}else{return o[G]}}},debug:function(){if(D.debug){if(D.performance){o.performance.log(arguments)}else{o.debug=Function.prototype.bind.call(console.info,console,D.name+":");o.debug.apply(console,arguments)}}},verbose:function(){if(D.verbose&&D.debug){if(D.performance){o.performance.log(arguments)}else{o.verbose=Function.prototype.bind.call(console.info,console,D.name+":");o.verbose.apply(console,arguments)}}},error:function(){o.error=Function.prototype.bind.call(console.error,console,D.name+":");o.error.apply(console,arguments)},performance:{log:function(I){var H,J,G;if(D.performance){H=new Date().getTime();G=f||H;J=H-G;f=H;k.push({Element:p,Name:I[0],Arguments:[].slice.call(I,1)||"","Execution Time":J})}clearTimeout(o.performance.timer);o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var H=D.name+":",G=0;f=false;clearTimeout(o.performance.timer);c.each(k,function(I,J){G+=J["Execution Time"]});H+=" "+G+"ms";if(i){H+=" '"+i+"'"}if((console.group!==d||console.table!==d)&&k.length>0){console.groupCollapsed(H);if(console.table){console.table(k)}else{c.each(k,function(I,J){console.log(J.Name+": "+J["Execution Time"]+"ms")})}console.groupEnd()}k=[]}},invoke:function(L,H,J){var I=E,M,K,G;H=H||m;J=p||J;if(typeof L=="string"&&I!==d){L=L.split(/[\. ]/);M=L.length-1;c.each(L,function(P,O){var N=(P!=M)?O+L[P+1].charAt(0).toUpperCase()+L[P+1].slice(1):L;if(c.isPlainObject(I[N])&&(P!=M)){I=I[N]}else{if(I[N]!==d){K=I[N];return false}else{if(c.isPlainObject(I[O])&&(P!=M)){I=I[O]}else{if(I[O]!==d){K=I[O];return false}else{return false}}}}})}if(c.isFunction(K)){G=K.apply(J,H)}else{if(K!==d){G=K}}if(c.isArray(g)){g.push(G)}else{if(g!==d){g=[g,G]}else{if(G!==d){g=G}}}return K}};if(e){if(E===d){o.initialize()}o.invoke(j)}else{if(E!==d){o.destroy()}o.initialize()}});return(g!==d)?g:this};c.fn.popup.settings={name:"Popup",debug:false,verbose:true,performance:true,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onHide:function(){},variation:"",content:false,html:false,title:false,on:"hover",target:false,closable:true,context:"body",position:"top center",delay:150,inline:false,preserve:false,duration:250,easing:"easeOutQuad",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{animating:"animating",loading:"loading",popup:"wojo popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".wojo.popup"},template:function(f){var e="";if(typeof f!==d){if(typeof f.title!==d&&f.title){e+='<div class="header">'+f.title+"</div>"}if(typeof f.content!==d&&f.content){e+='<div class="content">'+f.content+"</div>"}}return e}};c.extend(c.easing,{easeOutQuad:function(f,g,e,i,h){return -i*(g/=h)*(g-2)+e}})})(jQuery,window,document);
/*
Edit In Place
*/
$.fn.editableTableWidget=function(options){return $(this).each(function(){var buildDefaultOptions=function(){var opts=$.extend({},$.fn.editableTableWidget.defaultOptions);opts.editor=opts.editor.clone();return opts},activeOptions=$.extend(buildDefaultOptions(),options),ARROW_LEFT=37,ARROW_UP=38,ARROW_RIGHT=39,ARROW_DOWN=40,ENTER=13,ESC=27,TAB=9,element=$(this),editor=activeOptions.editor.css("position","absolute").hide().appendTo(element.parent()),active,showEditor=function(select){active=element.find("td[data-editable]:focus");if(active.length){editor.val(active.text()).removeClass("error").show().offset(active.offset()).css(active.css(activeOptions.cloneProperties)).width(active.width()).height(active.height()).focus();if(select){editor.select()}}},setActiveText=function(){var text=editor.val(),evt=$.Event("change"),originalContent;if(active.text()===text||editor.hasClass("error")){return true}originalContent=active.html();active.text(text).trigger(evt,text);if(evt.result===false){active.html(originalContent)}},movement=function(element,keycode){if(keycode===ARROW_RIGHT){return element.next("td")}else{if(keycode===ARROW_LEFT){return element.prev("td")}else{if(keycode===ARROW_UP){return element.parent().prev().children().eq(element.index())}else{if(keycode===ARROW_DOWN){return element.parent().next().children().eq(element.index())}}}}return[]};editor.blur(function(){setActiveText();editor.hide()}).keydown(function(e){if(e.which===ENTER){setActiveText();editor.hide();active.focus();e.preventDefault();e.stopPropagation()}else{if(e.which===ESC){editor.val(active.text());e.preventDefault();e.stopPropagation();editor.hide();active.focus()}else{if(e.which===TAB){active.focus()}else{if(this.selectionEnd-this.selectionStart===this.value.length){var possibleMove=movement(active,e.which);if(possibleMove.length>0){possibleMove.focus();e.preventDefault();e.stopPropagation()}}}}}}).on("input paste",function(){var evt=$.Event("validate");active.trigger(evt,editor.val());if(evt.result===false){editor.addClass("error")}else{editor.removeClass("error")}});element.on("click keypress dblclick",showEditor).keydown(function(e){var prevent=true,possibleMove=movement($(e.target),e.which);if(possibleMove.length>0){possibleMove.focus()}else{if(e.which===ENTER){showEditor(false)}else{if(e.which===17||e.which===91||e.which===93){showEditor(true);prevent=false}else{prevent=false}}}if(prevent){e.stopPropagation();e.preventDefault()}});element.find("td[data-editable]").css("cursor","pointer").prop("tabindex",1);$(window).on("resize",function(){if(editor.is(":visible")){editor.offset(active.offset()).width(active.width()).height(active.height())}})})};$.fn.editableTableWidget.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>").addClass("wojo editable")};
/* 
 * Selecter v3.2.3 - 2014-11-25 
 * A jQuery plugin for replacing default select elements. Part of the Formstone Library. 
 * http://formstone.it/selecter/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */
;(function($,window){"use strict";var guid=0,userAgent=(window.navigator.userAgent||window.navigator.vendor||window.opera),isFirefox=/Firefox/i.test(userAgent),isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(userAgent),isFirefoxMobile=(isFirefox&&isMobile),$body=null;var options={callback:$.noop,cover:false,customClass:"",label:"",external:false,links:false,mobile:false,trim:0};var pub={defaults:function(opts){options=$.extend(options,opts||{});return(typeof this==='object')?$(this):true},disable:function(option){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(typeof option!=="undefined"){var index=data.$items.index(data.$items.filter("[data-value="+option+"]"));data.$items.eq(index).addClass("disabled");data.$options.eq(index).prop("disabled",true)}else{if(data.$selecter.hasClass("open")){data.$selecter.find(".selecter-selected").trigger("click.selecter")}data.$selecter.addClass("disabled");data.$select.prop("disabled",true)}}})},destroy:function(){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(data.$selecter.hasClass("open")){data.$selecter.find(".selecter-selected").trigger("click.selecter")}if($.fn.scroller!==undefined){data.$selecter.find(".selecter-options").scroller("destroy")}data.$select[0].tabIndex=data.tabIndex;data.$select.find(".selecter-placeholder").remove();data.$selected.remove();data.$itemsWrapper.remove();data.$selecter.off(".selecter");data.$select.off(".selecter").removeClass("selecter-element").show().unwrap()}})},enable:function(option){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(typeof option!=="undefined"){var index=data.$items.index(data.$items.filter("[data-value="+option+"]"));data.$items.eq(index).removeClass("disabled");data.$options.eq(index).prop("disabled",false)}else{data.$selecter.removeClass("disabled");data.$select.prop("disabled",false)}}})},refresh:function(){return pub.update.apply($(this))},update:function(){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){var index=data.index;data.$allOptions=data.$select.find("option, optgroup");data.$options=data.$allOptions.filter("option");data.index=-1;index=data.$options.index(data.$options.filter(":selected"));_buildOptions(data);if(!data.multiple){_update(index,data)}}})}};function _init(opts){opts=$.extend({},options,opts||{});if($body===null){$body=$("body")}var $items=$(this);for(var i=0,count=$items.length;i<count;i++){_build($items.eq(i),opts)}return $items}function _build($select,opts){if(!$select.hasClass("selecter-element")){opts=$.extend({},opts,$select.data("selecter-options"));opts.multiple=$select.prop("multiple");opts.disabled=$select.is(":disabled");if(opts.external){opts.links=true}var $originalOption=$select.find("[selected]").not(":disabled"),originalOptionIndex=$select.find("option").index($originalOption);if(!opts.multiple&&opts.label!==""){$select.prepend('<option value="" class="selecter-placeholder" selected>'+opts.label+'</option>');if(originalOptionIndex>-1){originalOptionIndex++}}else{opts.label=""}var $allOptions=$select.find("option, optgroup"),$options=$allOptions.filter("option");if(!$originalOption.length){$originalOption=$options.eq(0)}var originalIndex=(originalOptionIndex>-1)?originalOptionIndex:0,originalLabel=(opts.label!=="")?opts.label:$originalOption.text(),wrapperTag="div";opts.tabIndex=$select[0].tabIndex;$select[0].tabIndex=-1;var inner="",wrapper="";wrapper+='<'+wrapperTag+' class="selecter '+opts.customClass;if(isMobile){wrapper+=' mobile'}else if(opts.cover){wrapper+=' cover'}if(opts.multiple){wrapper+=' multiple'}else{wrapper+=' closed'}if(opts.disabled){wrapper+=' disabled'}wrapper+='" tabindex="'+opts.tabIndex+'">';wrapper+='</'+wrapperTag+'>';if(!opts.multiple){inner+='<span class="selecter-selected">';inner+=$('<span></span>').text(_trim(originalLabel,opts.trim)).html();inner+='</span>'}inner+='<div class="selecter-options">';inner+='</div>';$select.addClass("selecter-element").wrap(wrapper).after(inner);var $selecter=$select.parent(".selecter"),data=$.extend({$select:$select,$allOptions:$allOptions,$options:$options,$selecter:$selecter,$selected:$selecter.find(".selecter-selected"),$itemsWrapper:$selecter.find(".selecter-options"),index:-1,guid:guid++},opts);_buildOptions(data);if(!data.multiple){_update(originalIndex,data)}if($.fn.scroller!==undefined){data.$itemsWrapper.scroller()}data.$selecter.on("touchstart.selecter",".selecter-selected",data,_onTouchStart).on("click.selecter",".selecter-selected",data,_onClick).on("click.selecter",".selecter-item",data,_onSelect).on("close.selecter",data,_onClose).data("selecter",data);data.$select.on("change.selecter",data,_onChange);if(!isMobile){data.$selecter.on("focusin.selecter",data,_onFocus).on("blur.selecter",data,_onBlur);data.$select.on("focusin.selecter",data,function(e){e.data.$selecter.trigger("focus")})}}}function _buildOptions(data){var html='',itemTag=(data.links)?"a":"span",j=0;for(var i=0,count=data.$allOptions.length;i<count;i++){var $op=data.$allOptions.eq(i);if($op[0].tagName==="OPTGROUP"){html+='<span class="selecter-group';if($op.is(":disabled")){html+=' disabled'}html+='">'+$op.attr("label")+'</span>'}else{var opVal=$op.val();if(!$op.attr("value")){$op.attr("value",opVal)}html+='<'+itemTag+' class="selecter-item';if($op.hasClass('selecter-placeholder')){html+=' placeholder'}if($op.is(':selected')){html+=' selected'}if($op.is(":disabled")){html+=' disabled'}html+='" ';if(data.links){html+='href="'+opVal+'"'}else{html+='data-value="'+opVal+'"'}html+='>'+$("<span></span>").text(_trim($op.text(),data.trim)).html()+'</'+itemTag+'>';j++}}data.$itemsWrapper.html(html);data.$items=data.$selecter.find(".selecter-item")}function _onTouchStart(e){e.stopPropagation();var data=e.data;data.touchStartEvent=e.originalEvent;data.touchStartX=data.touchStartEvent.touches[0].clientX;data.touchStartY=data.touchStartEvent.touches[0].clientY;data.$selecter.on("touchmove.selecter",".selecter-selected",data,_onTouchMove).on("touchend.selecter",".selecter-selected",data,_onTouchEnd)}function _onTouchMove(e){var data=e.data,oe=e.originalEvent;if(Math.abs(oe.touches[0].clientX-data.touchStartX)>10||Math.abs(oe.touches[0].clientY-data.touchStartY)>10){data.$selecter.off("touchmove.selecter touchend.selecter")}}function _onTouchEnd(e){var data=e.data;data.touchStartEvent.preventDefault();data.$selecter.off("touchmove.selecter touchend.selecter");_onClick(e)}function _onClick(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$select.is(":disabled")){$(".selecter").not(data.$selecter).trigger("close.selecter",[data]);if(!data.mobile&&isMobile&&!isFirefoxMobile){var el=data.$select[0];if(window.document.createEvent){var evt=window.document.createEvent("MouseEvents");evt.initMouseEvent("mousedown",false,true,window,0,0,0,0,0,false,false,false,false,0,null);el.dispatchEvent(evt)}else if(el.fireEvent){el.fireEvent("onmousedown")}}else{if(data.$selecter.hasClass("closed")){_onOpen(e)}else if(data.$selecter.hasClass("open")){_onClose(e)}}}}function _onOpen(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$selecter.hasClass("open")){var offset=data.$selecter.offset(),bodyHeight=$body.outerHeight(),optionsHeight=data.$itemsWrapper.outerHeight(true),selectedOffset=(data.index>=0)?data.$items.eq(data.index).position():{left:0,top:0};if(offset.top+optionsHeight>bodyHeight){data.$selecter.addClass("bottom")}data.$itemsWrapper.show();data.$selecter.removeClass("closed").addClass("open");$body.on("click.selecter-"+data.guid,":not(.selecter-options)",data,_onCloseHelper);_scrollOptions(data)}}function _onCloseHelper(e){e.preventDefault();e.stopPropagation();if($(e.currentTarget).parents(".selecter").length===0){_onClose(e)}}function _onClose(e){e.preventDefault();e.stopPropagation();var data=e.data;if(data.$selecter.hasClass("open")){data.$itemsWrapper.hide();data.$selecter.removeClass("open bottom").addClass("closed");$body.off(".selecter-"+data.guid)}}function _onSelect(e){e.preventDefault();e.stopPropagation();var $target=$(this),data=e.data;if(!data.$select.is(":disabled")){if(data.$itemsWrapper.is(":visible")){var index=data.$items.index($target);if(index!==data.index){_update(index,data);_handleChange(data)}}if(!data.multiple){_onClose(e)}}}function _onChange(e,internal){var $target=$(this),data=e.data;if(!internal&&!data.multiple){var index=data.$options.index(data.$options.filter("[value='"+_escape($target.val())+"']"));_update(index,data);_handleChange(data)}}function _onFocus(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$select.is(":disabled")&&!data.multiple){data.$selecter.addClass("focus").on("keydown.selecter-"+data.guid,data,_onKeypress);$(".selecter").not(data.$selecter).trigger("close.selecter",[data])}}function _onBlur(e,internal,two){e.preventDefault();e.stopPropagation();var data=e.data;data.$selecter.removeClass("focus").off("keydown.selecter-"+data.guid);$(".selecter").not(data.$selecter).trigger("close.selecter",[data])}function _onKeypress(e){var data=e.data;if(e.keyCode===13){if(data.$selecter.hasClass("open")){_onClose(e);_update(data.index,data)}_handleChange(data)}else if(e.keyCode!==9&&(!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey)){e.preventDefault();e.stopPropagation();var total=data.$items.length-1,index=(data.index<0)?0:data.index;if($.inArray(e.keyCode,(isFirefox)?[38,40,37,39]:[38,40])>-1){index=index+((e.keyCode===38||(isFirefox&&e.keyCode===37))?-1:1);if(index<0){index=0}if(index>total){index=total}}else{var input=String.fromCharCode(e.keyCode).toUpperCase(),letter,i;for(i=data.index+1;i<=total;i++){letter=data.$options.eq(i).text().charAt(0).toUpperCase();if(letter===input){index=i;break}}if(index<0||index===data.index){for(i=0;i<=total;i++){letter=data.$options.eq(i).text().charAt(0).toUpperCase();if(letter===input){index=i;break}}}}if(index>=0){_update(index,data);_scrollOptions(data)}}}function _update(index,data){var $item=data.$items.eq(index),isSelected=$item.hasClass("selected"),isDisabled=$item.hasClass("disabled");if(!isDisabled){if(data.multiple){if(isSelected){data.$options.eq(index).prop("selected",null);$item.removeClass("selected")}else{data.$options.eq(index).prop("selected",true);$item.addClass("selected")}}else if(index>-1&&index<data.$items.length){var newLabel=$item.html(),newValue=$item.data("value");data.$selected.html(newLabel).removeClass('placeholder');data.$items.filter(".selected").removeClass("selected");data.$select[0].selectedIndex=index;$item.addClass("selected");data.index=index}else if(data.label!==""){data.$selected.html(data.label)}}}function _scrollOptions(data){var $selected=data.$items.eq(data.index),selectedOffset=(data.index>=0&&!$selected.hasClass("placeholder"))?$selected.position():{left:0,top:0};if($.fn.scroller!==undefined){data.$itemsWrapper.scroller("scroll",(data.$itemsWrapper.find(".scroller-content").scrollTop()+selectedOffset.top),0).scroller("reset")}else{data.$itemsWrapper.scrollTop(data.$itemsWrapper.scrollTop()+selectedOffset.top)}}function _handleChange(data){if(data.links){_launch(data)}else{data.callback.call(data.$selecter,data.$select.val(),data.index);data.$select.trigger("change",[true])}}function _launch(data){var url=data.$select.val();if(data.external){window.open(url)}else{window.location.href=url}}function _trim(text,length){if(length===0){return text}else{if(text.length>length){return text.substring(0,length)+"..."}else{return text}}}function _escape(text){return(typeof text==="string")?text.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1'):text}$.fn.selecter=function(method){if(pub[method]){return pub[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return _init.apply(this,arguments)}return this};$.selecter=function(method){if(method==="defaults"){pub.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}})(jQuery,window);
/* 
 * Scroller v3.1.2 - 2014-12-08 
 * A jQuery plugin for replacing default browser scrollbars. Part of the Formstone Library. 
 * http://formstone.it/scroller/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */
!function(a,b){"use strict";function c(b){b=a.extend({},q,b||{}),null===n&&(n=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(c,d){if(!c.hasClass(o.base)){d=a.extend({},d,c.data(m+"-options"));var h="";h+='<div class="'+o.bar+'">',h+='<div class="'+o.track+'">',h+='<div class="'+o.handle+'">',h+="</div></div></div>",d.paddingRight=parseInt(c.css("padding-right"),10),d.paddingBottom=parseInt(c.css("padding-bottom"),10),c.addClass([o.base,d.customClass].join(" ")).wrapInner('<div class="'+o.content+'" />').prepend(h),d.horizontal&&c.addClass(o.isHorizontal);var i=a.extend({$scroller:c,$content:c.find(l(o.content)),$bar:c.find(l(o.bar)),$track:c.find(l(o.track)),$handle:c.find(l(o.handle))},d);i.trackMargin=parseInt(i.trackMargin,10),i.$content.on("scroll."+m,i,e),i.$scroller.on(p.start,l(o.track),i,f).on(p.start,l(o.handle),i,g).data(m,i),r.reset.apply(c),a(b).one("load",function(){r.reset.apply(c)})}}function e(a){a.preventDefault(),a.stopPropagation();var b=a.data,c={};if(b.horizontal){var d=b.$content.scrollLeft();0>d&&(d=0);var e=d/b.scrollRatio;e>b.handleBounds.right&&(e=b.handleBounds.right),c={left:e}}else{var f=b.$content.scrollTop();0>f&&(f=0);var g=f/b.scrollRatio;g>b.handleBounds.bottom&&(g=b.handleBounds.bottom),c={top:g}}b.$handle.css(c)}function f(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=b.$track.offset(),e="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,f=e?e.pageX:a.clientX,g=e?e.pageY:a.clientY;b.horizontal?(b.mouseStart=f,b.handleLeft=f-d.left-b.handleWidth/2,k(b,b.handleLeft)):(b.mouseStart=g,b.handleTop=g-d.top-b.handleHeight/2,k(b,b.handleTop)),h(b)}function g(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,e=d?d.pageX:a.clientX,f=d?d.pageY:a.clientY;b.horizontal?(b.mouseStart=e,b.handleLeft=parseInt(b.$handle.css("left"),10)):(b.mouseStart=f,b.handleTop=parseInt(b.$handle.css("top"),10)),h(b)}function h(a){a.$content.off(l(m)),n.on(p.move,a,i).on(p.end,a,j)}function i(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=0,e=0,f="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,g=f?f.pageX:a.clientX,h=f?f.pageY:a.clientY;b.horizontal?(e=b.mouseStart-g,d=b.handleLeft-e):(e=b.mouseStart-h,d=b.handleTop-e),k(b,d)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$content.on("scroll.scroller",b,e),n.off(".scroller")}function k(a,b){var c={};if(a.horizontal){b<a.handleBounds.left&&(b=a.handleBounds.left),b>a.handleBounds.right&&(b=a.handleBounds.right);var d=Math.round(b*a.scrollRatio);c={left:b},a.$content.scrollLeft(d)}else{b<a.handleBounds.top&&(b=a.handleBounds.top),b>a.handleBounds.bottom&&(b=a.handleBounds.bottom);var e=Math.round(b*a.scrollRatio);c={top:b},a.$content.scrollTop(e)}a.$handle.css(c)}function l(a){return"."+a}var m="scroller",n=null,o={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},p={start:"touchstart."+m+" mousedown."+m,move:"touchmove."+m+" mousemove."+m,end:"touchend."+m+" mouseup."+m},q={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},r={defaults:function(b){return q=a.extend(q,b||{}),"object"==typeof this?a(this):!0},destroy:function(){return a(this).each(function(b,c){var d=a(c).data(m);d&&(d.$scroller.removeClass([d.customClass,o.base,o.isActive].join(" ")),d.$bar.remove(),d.$content.contents().unwrap(),d.$content.off(l(m)),d.$scroller.off(l(m)).removeData(m))})},scroll:function(b,c){return a(this).each(function(){var d=a(this).data(m),e=c||q.duration;if("number"!=typeof b){var f=a(b);if(f.length>0){var g=f.position();b=d.horizontal?g.left+d.$content.scrollLeft():g.top+d.$content.scrollTop()}else b=d.$content.scrollTop()}var h=d.horizontal?{scrollLeft:b}:{scrollTop:b};d.$content.stop().animate(h,e)})},reset:function(){return a(this).each(function(){var b=a(this).data(m);if(b){b.$scroller.addClass(o.isSetup);var c={},d={},e={},f=0,g=!0;if(b.horizontal){b.barHeight=b.$content[0].offsetHeight-b.$content[0].clientHeight,b.frameWidth=b.$content.outerWidth(),b.trackWidth=b.frameWidth-2*b.trackMargin,b.scrollWidth=b.$content[0].scrollWidth,b.ratio=b.trackWidth/b.scrollWidth,b.trackRatio=b.trackWidth/b.scrollWidth,b.handleWidth=b.handleSize>0?b.handleSize:b.trackWidth*b.trackRatio,b.scrollRatio=(b.scrollWidth-b.frameWidth)/(b.trackWidth-b.handleWidth),b.handleBounds={left:0,right:b.trackWidth-b.handleWidth},b.$content.css({paddingBottom:b.barHeight+b.paddingBottom});var h=b.$content.scrollLeft();f=h*b.ratio,g=b.scrollWidth<=b.frameWidth,c={width:b.frameWidth},d={width:b.trackWidth,marginLeft:b.trackMargin,marginRight:b.trackMargin},e={width:b.handleWidth}}else{b.barWidth=b.$content[0].offsetWidth-b.$content[0].clientWidth,b.frameHeight=b.$content.outerHeight(),b.trackHeight=b.frameHeight-2*b.trackMargin,b.scrollHeight=b.$content[0].scrollHeight,b.ratio=b.trackHeight/b.scrollHeight,b.trackRatio=b.trackHeight/b.scrollHeight,b.handleHeight=b.handleSize>0?b.handleSize:b.trackHeight*b.trackRatio,b.scrollRatio=(b.scrollHeight-b.frameHeight)/(b.trackHeight-b.handleHeight),b.handleBounds={top:0,bottom:b.trackHeight-b.handleHeight};var i=b.$content.scrollTop();f=i*b.ratio,g=b.scrollHeight<=b.frameHeight,c={height:b.frameHeight},d={height:b.trackHeight,marginBottom:b.trackMargin,marginTop:b.trackMargin},e={height:b.handleHeight}}g?b.$scroller.removeClass(o.isActive):b.$scroller.addClass(o.isActive),b.$bar.css(c),b.$track.css(d),b.$handle.css(e),k(b,f),b.$scroller.removeClass(o.isSetup)}})}};a.fn[m]=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a[m]=function(a){"defaults"===a&&r.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery);
/*! Grid boxes */
!function(a){a.elasticColumns=function(b,c){this.defaults={columns:3,innerMargin:10,outerMargin:10},this.settings={},this.$element=a(b),this.columns=[],this.init=function(){this.settings=a.extend({},this.defaults,c),this.buildLayout()},this.buildLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=this.$element.width(),d=(c-this.settings.innerMargin*(this.settings.columns-1)-2*this.settings.outerMargin)/this.settings.columns,e=0;e<this.settings.columns;e+=1)this.columns[e]=this.settings.outerMargin;for(var f=0;f<b.length;f+=1){for(var g=a(b.get(f)),h=0,i=0;i<this.settings.columns;i+=1)this.columns[i]<this.columns[h]&&(h=i);var j=parseInt(g.css("padding-left"))+parseInt(g.css("padding-right")),k=parseInt(g.css("padding-top"))+parseInt(g.css("padding-bottom"));g.css("position","absolute"),g.css("width",d-j+"px"),g.css("left",this.settings.outerMargin+this.settings.innerMargin*h+h*d+"px"),g.css("top",this.columns[h]+"px"),this.columns[h]+=g.outerHeight()+this.settings.innerMargin+k}for(var l=0,i=0;i<this.settings.columns;i+=1)this.columns[i]>this.columns[l]&&(l=i);this.$element.outerHeight(this.columns[l]+"px")},this.destroyLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=0;c<b.length;c+=1){var d=a(b.get(c));d.css({position:"",width:"",left:"",top:""})}this.$element.css({height:""})}},a.fn.elasticColumns=function(b,c,d){return this.each(function(){var e=a(this).data("elasticColumns");"undefined"==typeof e?(e=new a.elasticColumns(this,b),a(this).data("elasticColumns",e),e.init()):("refresh"==b&&e.buildLayout(),"set"==b&&(e.settings[c]=d),"destroy"==b&&e.destroyLayout())})}}(jQuery);
/**
 * jQuery Grid-A-Licious(tm) v3.01
 *
 * Terms of Use - jQuery Grid-A-Licious(tm)
 * under the MIT (http://www.opensource.org/licenses/mit-license.php) License.
 *
 */
(function(a,b){var c=function(a,b,c){var d;return function(){function h(){if(!c)a.apply(f,g);d=null}var f=this,g=arguments;if(d)clearTimeout(d);else if(c)a.apply(f,g);d=setTimeout(h,b||150)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}})(jQuery,"smartresize");(function(a){a.Gal=function(b,c){this.element=a(c);this._init(b)};a.Gal.settings={selector:".item",width:225,gutter:20,animate:false,animationOptions:{speed:200,duration:300,effect:"fadeInOnAppear",queue:true,complete:function(){}}};a.Gal.prototype={_init:function(b){var c=this;this.name=this._setName(5);this.gridArr=[];this.gridArrAppend=[];this.gridArrPrepend=[];this.setArr=false;this.setGrid=false;this.setOptions;this.cols=0;this.itemCount=0;this.prependCount=0;this.isPrepending=false;this.appendCount=0;this.resetCount=true;this.ifCallback=true;this.box=this.element;this.options=a.extend(true,{},a.Gal.settings,b);this.gridArr=a.makeArray(this.box.find(this.options.selector));this.isResizing=false;this.w=0;this.boxArr=[];this._setCols();this._renderGrid("append");a(this.box).addClass("gridalicious");a(window).smartresize(function(){c.resize()})},_setName:function(a,b){b=b?b:"";return a?this._setName(--a,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*60))+b):b},_setCols:function(){this.cols=Math.floor(this.box.width()/this.options.width);diff=(this.box.width()-this.cols*this.options.width-this.options.gutter)/this.cols;w=(this.options.width+diff)/this.box.width()*100;this.w=w;for(var b=0;b<this.cols;b++){var c=a("<div></div>").addClass("galcolumn").attr("id","item"+b+this.name).css({width:w+"%",paddingLeft:this.options.gutter,paddingBottom:this.options.gutter,"float":"left","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","-o-box-sizing":"border-box","box-sizing":"border-box"});this.box.append(c)}this.box.find(a("#clear"+this.name)).remove();var d=a("<div></div>").css({clear:"both",height:"0",width:"0",display:"block"}).attr("id","clear"+this.name);this.box.append(d)},_renderGrid:function(b,c,d,e){var f=[];var g=[];var h=[];var i=0;var j=this.prependCount;var k=this.appendCount;var l=this.options.gutter;var m=this.cols;var n=this.name;var o=0;var p=a(".galcolumn").width();if(c){g=c;if(b=="append"){k+=d;i=this.appendCount}if(b=="prepend"){this.isPrepending=true;i=Math.round(d%m);if(i<=0)i=m}if(b=="renderAfterPrepend"){k+=d;i=d}}else{g=this.gridArr;k=a(this.gridArr).size()}a.each(g,function(c,d){var e=a(d);var g="100%";if(e.hasClass("not-responsive")){g="auto"}e.css({marginBottom:l,zoom:"1",filter:"alpha(opacity=0)",opacity:"0"}).find("img, object, embed, iframe").css({maxWidth:g,height:"auto",display:"block","margin-left":"auto","margin-right":"auto"});if(b=="prepend"){i--;a("#item"+i+n).prepend(e);f.push(e);if(i==0)i=m}else{a("#item"+i+n).append(e);f.push(e);i++;if(i>=m)i=0;if(k>=m)k=k-m}});this.appendCount=k;this.itemCount=i;if(b=="append"||b=="prepend"){if(b=="prepend"){this._updateAfterPrepend(this.gridArr,g)}this._renderItem(f);this.isPrepending=false}else{this._renderItem(this.gridArr)}},_collectItems:function(){var b=[];a(this.box).find(this.options.selector).each(function(c){b.push(a(this))});return b},_renderItem:function(b){var c=this.options.animationOptions.speed;var d=this.options.animationOptions.effect;var e=this.options.animationOptions.duration;var f=this.options.animationOptions.queue;var g=this.options.animate;var h=this.options.animationOptions.complete;var i=0;var j=0;if(g===true&&!this.isResizing){if(f===true&&d=="fadeInOnAppear"){if(this.isPrepending)b.reverse();a.each(b,function(d,f){setTimeout(function(){a(f).animate({opacity:"1.0"},e);j++;if(j==b.length){h.call(undefined,b)}},i*c);i++})}else if(f===false&&d=="fadeInOnAppear"){if(this.isPrepending)b.reverse();a.each(b,function(c,d){a(d).animate({opacity:"1.0"},e);j++;if(j==b.length){if(this.ifCallback){h.call(undefined,b)}}})}if(f===true&&!d){a.each(b,function(c,d){a(d).css({opacity:"1",filter:"alpha(opacity=1)"});j++;if(j==b.length){if(this.ifCallback){h.call(undefined,b)}}})}}else{a.each(b,function(b,c){a(c).css({opacity:"1",filter:"alpha(opacity=1)"})});if(this.ifCallback){h.call(b)}}},_updateAfterPrepend:function(b,c){var d=this.gridArr;a.each(c,function(a,b){d.unshift(b)});this.gridArr=d},resize:function(){this.box.find(a(".galcolumn")).remove();this._setCols();this.ifCallback=false;this.isResizing=true;this._renderGrid("append");this.ifCallback=true;this.isResizing=false},append:function(b){var c=this.gridArr;var d=this.gridArrPrepend;a.each(b,function(a,b){c.push(b);d.push(b)});this._renderGrid("append",b,a(b).size())},prepend:function(b){this.ifCallback=false;this._renderGrid("prepend",b,a(b).size());this.ifCallback=true}};a.fn.gridalicious=function(b,c){if(typeof b==="string"){this.each(function(){var d=a.data(this,"gridalicious");d[b].apply(d,[c])})}else{this.each(function(){a.data(this,"gridalicious",new a.Gal(b,this))})}return this}})(jQuery);